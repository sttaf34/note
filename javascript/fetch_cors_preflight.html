<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
</head>
<body>

<script>

// preflight リクエストが必要になる条件の一つとして、
// Content-Type: application/json がある
// fetch しているのは一回だが、自動的に preflight リクエストが飛んでいる

// cd ~/Projects/note-typescript && yarn ts-node src/server/cors.ts
// ↑preflight リクエストに対応しているサーバ

const method = "POST";
const headers = { "Content-Type": "application/json" };
const body = JSON.stringify({key: "value"});
fetch("http://localhost:7400", { method, headers, body })
  .then((response) => { console.log(response) })

</script>
</body>
</html>
